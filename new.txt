Blunt step-by-step guide. Follow it **exactly** on your Ubuntu 22.04.5 server with **no internet** but GitHub access. Your goal: install **MongoDB 6.0**.

---

## ðŸ§± Preconditions

* You already have `server-6.0.asc` in a GitHub repo at:
  `https://github.com/SomethingForWork/tests.git`
* Server OS: Ubuntu 22.04.5
* `pgp.mongodb.com` is **blocked**, so GPG key must be transferred manually

---

## âœ… Clean Install MongoDB 6.0 â€” Start to End

### 1. Remove old garbage

```bash
sudo rm -f /usr/share/keyrings/mongodb-server-6.0.gpg
sudo rm -f /etc/apt/sources.list.d/*mongodb*.list
sudo apt clean
```

---

### 2. Clone repo and prepare key

```bash
git clone https://github.com/SomethingForWork/tests.git || true
```

If it says "already exists", skip.

---

### 3. Convert ASCII key to binary GPG format

```bash
sudo gpg --dearmor < tests/server-6.0.asc > /usr/share/keyrings/mongodb-server-6.0.gpg
```

### 4. Confirm it's a valid binary key

```bash
file /usr/share/keyrings/mongodb-server-6.0.gpg
```

Must output:

```
/usr/share/keyrings/mongodb-server-6.0.gpg: GPG key public ring (v4) ...
```

If it says ASCII or empty: your `.asc` is broken â†’ fix it.

---

### 5. Add MongoDB 6.0 repo using the signed key

```bash
echo "deb [signed-by=/usr/share/keyrings/mongodb-server-6.0.gpg] https://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
```

---

### 6. Update and install MongoDB

```bash
sudo apt update
sudo apt install -y mongodb-org
```

---

### 7. Enable and start MongoDB

```bash
sudo systemctl enable mongod
sudo systemctl start mongod
```

---

## ðŸ§ª Verify Installation

```bash
mongod --version
```

---

## If It Still Fails

Run:

```bash
ls -lh tests/server-6.0.asc
```

If it shows `0 bytes`, the key is corrupted. Re-upload a proper one:

```bash
wget https://pgp.mongodb.com/server-6.0.asc -O server-6.0.asc
```

Transfer this file to GitHub again.

---

No deviation. No improvisation. This works if your `.asc` is valid.
